{"openapi":"3.0.1","info":{"title":"Aviasales API","description":"Search for airline tickets.","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/v1/admin/users/{id}":{"get":{"tags":["admin-user-controller"],"summary":"Getting a user by id","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}}}}},"put":{"tags":["admin-user-controller"],"summary":"Update user","operationId":"updateUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["admin-user-controller"],"summary":"Delete user","operationId":"deleteUser","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/admin/routes/{id}":{"get":{"tags":["admin-route-controller"],"summary":"Getting a route by id","operationId":"getRouteById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RouteDTO"}}}}}},"put":{"tags":["admin-route-controller"],"summary":"Update route","operationId":"updateRoute","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}},"delete":{"tags":["admin-route-controller"],"summary":"Delete route","operationId":"deleteRoute","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/user/restore-password":{"post":{"tags":["user-controller"],"summary":"Restore password","operationId":"restorePassword","requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"Email"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/user/register":{"post":{"tags":["user-controller"],"summary":"Register new user","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/user/login":{"post":{"tags":["user-controller"],"summary":"login","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/v1/tickets/payment":{"post":{"tags":["ticket-controller"],"operationId":"payTicket","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/v1/tickets/booking":{"post":{"tags":["ticket-controller"],"summary":"book ticket","operationId":"bookTicket","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"ticketId":{"type":"integer","format":"int64"},"passengerName":{"type":"string"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookedTicketDTO"}}}}}}},"/api/v1/admin/users":{"get":{"tags":["admin-user-controller"],"summary":"Getting a list of all users","operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}}}}},"post":{"tags":["admin-user-controller"],"summary":"Creating a new user","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/admin/routes":{"get":{"tags":["admin-route-controller"],"summary":"Getting a list of all routes","operationId":"getAllRoute","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RouteDTO"}}}}}}},"post":{"tags":["admin-route-controller"],"summary":"Creating a new route","operationId":"createRoute","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RouteDTO"}}},"required":true},"responses":{"200":{"description":"OK"}}}},"/api/v1/user/history":{"get":{"tags":["user-controller"],"summary":"get history of user","operationId":"getUserHistory","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserTicketHistoryDTO"}}}}}}}},"/api/v1/trips/{tripId}":{"get":{"tags":["trip-controller"],"summary":"Get tickets list for trip","operationId":"getTicketsForTrip","parameters":[{"name":"tripId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/TicketDTO"}}}}}}}},"/api/v1/trips/":{"get":{"tags":["trip-controller"],"summary":"Find trip","operationId":"getTrips","parameters":[{"name":"route","in":"query","required":true,"schema":{"$ref":"#/components/schemas/RouteDTO"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TripDTO"}}}}}}}},"/api/v1/tickets/booking/{ticketId}":{"delete":{"tags":["ticket-controller"],"summary":"cancel ticket booking","operationId":"cancelBooking","parameters":[{"name":"ticketId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"UserDTO":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}},"RouteDTO":{"type":"object","properties":{"departureCity":{"type":"string"},"arrivalCity":{"type":"string"},"date":{"type":"string","format":"date"}}},"PaymentDTO":{"type":"object","properties":{"ticketId":{"type":"integer","format":"int64"},"cardNumber":{"type":"string"},"cardDate":{"type":"string"},"cardCode":{"type":"string"},"firstAndLastNameOnCard":{"type":"string"}}},"BookedTicketDTO":{"type":"object","properties":{"seat":{"type":"string"},"price":{"type":"number"},"orderStatus":{"type":"string"},"passengerName":{"type":"string"}}},"UserTicketHistoryDTO":{"type":"object","properties":{"ticketId":{"type":"integer","format":"int64"},"seat":{"type":"string"},"price":{"type":"number"},"orderStatus":{"type":"string"},"departureCity":{"type":"string"},"arrivalCity":{"type":"string"},"dateTime":{"type":"string","format":"date-time"},"flightId":{"type":"integer","format":"int64"}}},"TicketDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"flightId":{"type":"integer","format":"int64"},"seat":{"type":"string"},"price":{"type":"number"},"orderStatus":{"type":"string"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"TripDTO":{"type":"object","properties":{"time":{"$ref":"#/components/schemas/LocalTime"},"tailNumber":{"type":"string"},"tripId":{"type":"integer","format":"int64"},"numberOfFreeTickets":{"type":"integer","format":"int32"},"note":{"type":"string"}}}}}}